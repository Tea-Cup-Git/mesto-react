{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/utils.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","_id","link","name","likes","owner","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isLiked","some","i","cardLikeButtonClassName","isOwn","cardDeleteButtonClassName","id","onClick","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","props","key","Footer","ImagePopup","cardTitle","cardSrc","isOpen","onClose","renderLoading","isLoading","currentSubmitButton","document","querySelector","textContent","api","baseUrl","token","this","_baseUrl","_token","res","ok","json","Promise","reject","status","err","console","error","fetch","headers","authorization","then","_handleResponse","catch","_handleCatch","method","body","JSON","stringify","cardID","like","PopupWithForm","title","onSubmit","buttonTitle","noValidate","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","handleChange","e","target","value","useEffect","preventDefault","minLength","maxLength","pattern","placeholder","defaultValue","onChange","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setTitle","setSrc","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setDeletePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","dataUser","getInitialCards","dataCards","Provider","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","setUserInfo","addCard","setUserAvatar","dataAvatar","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4ce2a982.chunk.js","sourcesContent":["import React from 'react';\nimport headerLogo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={headerLogo} alt=\"Mesto. Russia\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card({ _id, link, name, likes, owner, onCardClick, onCardLike, onCardDelete }) {\n  const card = { _id: _id, link: link, name: name, owner: owner, likes: likes };\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked ? 'card__like-button_active' : ''}`\n  );\n  const isOwn = owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__trash-button ${isOwn ? '' : 'card__trash-button_hidden'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  return (\n    <div id=\"card-template\">\n      <div className=\"card\">\n        <img className=\"card__image\" src={link} alt={name} onClick={handleClick} />\n        <p className=\"card__name\">{name}</p>\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} />\n        <div className=\"card__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike} />\n          <p className=\"card__like-count\">{likes.length}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ cards, onCardClick, onCardLike, onCardDelete, onEditAvatar, onEditProfile, onAddPlace }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\" />\n        </div>\n        <button\n          className=\"profile__avatar-button\"\n          type=\"button\"\n          onClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <div className=\"profile__button-wrapper\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"photo-grid\">\n        {cards.map(({_id, ...props}) => \n            <Card \n              key={_id} _id={_id} {...props} \n              onCardClick={onCardClick} \n              onCardLike={onCardLike} \n              onCardDelete={onCardDelete} \n            />\n          )\n        }\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({cardTitle, cardSrc, isOpen, onClose}) {\n  return (\n    <div id=\"image-form\" className={`popup ${isOpen && 'popup_open'}`}>\n      <figure className=\"popup__container popup__container_img\">\n        <img className=\"popup__image\" src={cardSrc} alt={`${cardTitle}`} />\n        <figcaption className=\"popup__figcaption\">{`${cardTitle}`}</figcaption>\n        <button\n          id=\"image-expander_close-button\"\n          className=\"popup__close-button\"\n          type=\"reset\"\n          onClick={onClose}\n        />\n      </figure>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","export const renderLoading = (isLoading = false) => {\n  const currentSubmitButton = document.querySelector('.popup_open .popup__submit-button');\n  if (isLoading) {\n    currentSubmitButton.textContent = 'Загрузка...';\n    return;\n  }\n  currentSubmitButton.textContent = 'Сохранить';\n};\n","import { renderLoading } from \"./utils.js\";\n\nclass Api {\n  constructor({ baseUrl, token}) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  _handleResponse(res) {\n    if(res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  _handleCatch(err) {\n    console.error(`Ошибка: ${err}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  addCard({ name, link, alt }) {\n    renderLoading(true);\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link,\n        alt\n      })\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  removeCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/${cardID}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  setUserInfo({ name, about }) {\n    renderLoading(true);\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  setUserAvatar({ avatar }) {\n    renderLoading(true);\n\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n\n  changeLikeCardStatus(cardID, like) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleCatch)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  token: '05e19680-152e-4468-99ab-dd133195a5d0'\n})\n\nexport default api;\n","import React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, onSubmit, buttonTitle, ...props}) {\n  return (\n    <div id={`${name}-form`} className={`popup ${isOpen && 'popup_open'}`}>\n      <form id={`${name}-form_container`} className=\"popup__container\" onSubmit={onSubmit} noValidate>\n        <h2 className=\"popup__header\">{title}</h2>\n        {props.children}\n        <button className=\"popup__submit-button\" type=\"submit\">{buttonTitle}</button>\n        <button\n          className=\"popup__close-button\"\n          type=\"reset\"\n          onClick={onClose}\n        />\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser(name, description);\r\n  }\r\n  \r\n  function handleChange(e) {\r\n    e.target.name === 'userName' ? setName(e.target.value) : setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonTitle=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input id=\"user-input\" className=\"popup__input popup__input_type_user-name\"\r\n        name=\"userName\" type=\"text\" minLength=\"2\" maxLength=\"40\" pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\r\n        placeholder=\"Имя\" defaultValue={name} onChange={handleChange} required />\r\n      <span id=\"user-input-error\" className=\"popup__input-error\"></span>\r\n      <input id=\"about-input\" className=\"popup__input popup__input_type_user-about\"\r\n        name=\"userAbout\" type=\"text\" minLength=\"2\" maxLength=\"200\" \r\n        placeholder=\"О себе\" defaultValue={description} onChange={handleChange} required />\r\n      <span id=\"about-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(avatarRef.current.value);\r\n    }\r\n\r\n    return (\r\n      <PopupWithForm\r\n        name=\"avatar\"\r\n        title=\"Обновить аватар\"\r\n        buttonTitle=\"Сохранить\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input id=\"avatar-input\" className=\"popup__input popup__input_type_image-link\"\r\n            name=\"userAvatar\" type=\"url\" placeholder=\"Ссылка на изображение\" ref={avatarRef} required />\r\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [src, setSrc] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace(title, src);\r\n    setTitle('');\r\n    setSrc('');\r\n  }\r\n\r\n  function handleChange(e) {\r\n    e.target.name === 'cardName' ? setTitle(e.target.value) : setSrc(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      buttonTitle=\"Добавить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input id=\"name-input\" className=\"popup__input popup__input_type_place-name\"\r\n            name=\"cardName\" type=\"text\" minLength=\"1\" maxLength=\"30\"placeholder=\"Название\" \r\n            value={title} onChange={handleChange} required />\r\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n      <input id=\"link-input\" className=\"popup__input popup__input_type_image-link\"\r\n            name=\"cardLink\" type=\"url\" placeholder=\"Ссылка на изображение\" \r\n            value={src} onChange={handleChange} required />\r\n      <span id=\"link-input-error\" className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n// import DeletePopup from './DeletePopup'; (В разработке)\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({isOpen: false});\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((dataUser) => {\n        setCurrentUser(dataUser);\n      })\n  }, [])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(dataCards => {\n        setCards(dataCards)\n      })\n  }, [])\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  // Подтверждение удаления карточки (В разработке)\n  // function handleDeleteClick() {\n  //   setDeletePopupOpen(true);\n  // }\n\n  // Развернуть картинку\n  function handleCardClick(card) {\n    setSelectedCard({ isOpen: true, src: card.link, title: card.name });\n  }\n\n  // Добавить/убрать лайк карточки \n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      });\n  }\n\n  // Удалить карточку\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        setCards(cards.filter(c => c._id !== card._id));\n      })\n  }\n\n  // Добавить карточку\n  function handleAddPlaceSubmit(title, src) {\n    api.addCard({ name: title, link: src, alt: title })\n      .then(newCard => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n  }\n\n  // Обновить данные пользователя\n  function handleUpdateUser(name, description) {\n    api.setUserInfo({name: name, about: description})\n      .then(dataUser => {\n        setCurrentUser(dataUser);\n        closeAllPopups();\n      })\n  }\n  \n  // Обновить аватар пользователя\n  function handleUpdateAvatar(avatar) {\n    api.setUserAvatar({ avatar: avatar })\n    .then(dataAvatar => {\n      setCurrentUser(dataAvatar);\n      closeAllPopups();\n    })\n  }\n\n  // Закрыть модальное окно\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard({isOpen: false});\n  }\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__content\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups} \n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup\n            cardSrc={selectedCard.src}\n            cardTitle={selectedCard.title}\n            isOpen={selectedCard.isOpen}\n            onClose={closeAllPopups}\n          />\n          {/* <DeletePopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onDeleteConfirm={handleCardDelete}\n          /> */}\n          <Footer />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}